<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Database on Laurance&#39;s Note</title>
        <link>https://note.laurance.ml/categories/database/</link>
        <description>Recent content in Database on Laurance&#39;s Note</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Thu, 13 Oct 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://note.laurance.ml/categories/database/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Redis-設置Redis密碼</title>
        <link>https://note.laurance.ml/p/redis-%E8%A8%AD%E7%BD%AEredis%E5%AF%86%E7%A2%BC/</link>
        <pubDate>Thu, 13 Oct 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/redis-%E8%A8%AD%E7%BD%AEredis%E5%AF%86%E7%A2%BC/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/redis-%E8%A8%AD%E7%BD%AEredis%E5%AF%86%E7%A2%BC/100.png" alt="Featured image of post Redis-設置Redis密碼" /&gt;&lt;p&gt;&lt;strong&gt;方法一&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;修改 redis 設定檔 (requirepass 參數)

PWD: /usr/local/redis/etc/redis.conf
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://note.laurance.ml/p/redis-%E8%A8%AD%E7%BD%AEredis%E5%AF%86%E7%A2%BC/00000001.png&#34;
	width=&#34;957&#34;
	height=&#34;859&#34;
	srcset=&#34;https://note.laurance.ml/p/redis-%E8%A8%AD%E7%BD%AEredis%E5%AF%86%E7%A2%BC/00000001_hua7f2bf730d118c5e4aedf81e044ee389_60461_480x0_resize_box_3.png 480w, https://note.laurance.ml/p/redis-%E8%A8%AD%E7%BD%AEredis%E5%AF%86%E7%A2%BC/00000001_hua7f2bf730d118c5e4aedf81e044ee389_60461_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;111&#34;
		data-flex-basis=&#34;267px&#34;
	
&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;修改完之後重啟服務

service redis restart
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;方法二&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;進服務修改 Password (此方法 Redis 重啟後，密碼會失效)

# 設定密碼

127.0.0.1:6379&amp;gt; config set requirepass 123456

# 查詢密碼

127.0.0.1:6379&amp;gt; config get requirepass

# 驗證密碼

127.0.0.1:6379&amp;gt; auth 123456

127.0.0.1:6379&amp;gt; config get requirepass

1) &amp;quot;requirepass&amp;quot;
2) &amp;quot;123456&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;登入指令&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;redis-cli -p 6379 -a test123

redis 127.0.0.1:6379&amp;gt; auth test123
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>Redis-安裝教學</title>
        <link>https://note.laurance.ml/p/redis-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/</link>
        <pubDate>Fri, 30 Sep 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/redis-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/redis-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/100.png" alt="Featured image of post Redis-安裝教學" /&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://download.redis.io/releases/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Index of redis&lt;/a&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;tar zxvf redis-4.0.6.tar.gz

cd /root/redis-4.0.6

make MALLOC=libc

make PREFIX=/usr/local/redis install
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Redis配置&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mkdir /usr/local/redis/etc/

cp redis.conf /usr/local/redis/etc/

cd /usr/local/redis/bin/

cp redis-benchmark redis-cli redis-server /usr/bin/
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;修改redis配置&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;vim /usr/local/redis/etc/redis.conf

bind 0.0.0.0

daemonize yes
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;redis ( 腳本 )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
#chkconfig: 2345 80 90
# Simple Redis init.d script conceived to work on Linux systems
# as it does use of the /proc filesystem.

PATH=/usr/local/bin:/sbin:/usr/bin:/bin
REDISPORT=6379
EXEC=/usr/local/redis/bin/redis-server
REDIS_CLI=/usr/local/redis/bin/redis-cli

PIDFILE=/var/run/redis_6379.pid
CONF=&amp;quot;/usr/local/redis/etc/redis.conf&amp;quot;

case &amp;quot;$1&amp;quot; in
start)
if [ -f $PIDFILE ]
then
echo &amp;quot;$PIDFILE exists, process is already running or crashed&amp;quot;
else
echo &amp;quot;Starting Redis server...&amp;quot;
$EXEC $CONF
fi
if [ &amp;quot;$?&amp;quot;=&amp;quot;0&amp;quot; ]
then
echo &amp;quot;Redis is running...&amp;quot;
fi
;;
stop)
if [ ! -f $PIDFILE ]
then
echo &amp;quot;$PIDFILE does not exist, process is not running&amp;quot;
else
PID=$(cat $PIDFILE)
echo &amp;quot;Stopping ...&amp;quot;
$REDIS_CLI -p $REDISPORT SHUTDOWN
while [ -x ${PIDFILE} ]
do
echo &amp;quot;Waiting for Redis to shutdown ...&amp;quot;
sleep 1
done
echo &amp;quot;Redis stopped&amp;quot;
fi
;;
restart|force-reload)
${0} stop
${0} start
;;
*)
echo &amp;quot;Usage: /etc/init.d/redis {start|stop|restart|force-reload}&amp;quot; &amp;gt;&amp;amp;2
exit 1
esac
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;啟動檔&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cp redis /etc/init.d/

chmod 755 /etc/init.d/redis
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;添加至開機啟動&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;chkconfig --add redis

chkconfig --level 2345 redis on
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>Mysql-將預設資料庫編碼 latin1 改為 UTF8</title>
        <link>https://note.laurance.ml/p/mysql-%E5%B0%87%E9%A0%90%E8%A8%AD%E8%B3%87%E6%96%99%E5%BA%AB%E7%B7%A8%E7%A2%BC-latin1-%E6%94%B9%E7%82%BA-utf8/</link>
        <pubDate>Tue, 27 Sep 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/mysql-%E5%B0%87%E9%A0%90%E8%A8%AD%E8%B3%87%E6%96%99%E5%BA%AB%E7%B7%A8%E7%A2%BC-latin1-%E6%94%B9%E7%82%BA-utf8/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/mysql-%E5%B0%87%E9%A0%90%E8%A8%AD%E8%B3%87%E6%96%99%E5%BA%AB%E7%B7%A8%E7%A2%BC-latin1-%E6%94%B9%E7%82%BA-utf8/100.png" alt="Featured image of post Mysql-將預設資料庫編碼 latin1 改為 UTF8" /&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://dev.mysql.com/doc/refman/5.7/en/charset-applications.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;***** 新版 MySQL 請參考官方文件&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Step.1 先修改 MySQL Config 讓之後建立的資料庫都使用編碼 UTF8&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ vim /etc/my.cnf

[mysqld]
default-character-set=utf8
default-collation=utf8_unicode_ci
character-set-server=utf8
collation-server=utf8_unicode_ci 

datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
user=mysql
# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0

[client]
default-character-set=utf8

[mysql]
default-character-set=utf8

[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid

#重新啟動MySQL讓設定生效
$ service mysqld restart
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Step.2 若要直接修改，不通過設定檔的方式&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ALTER DATABASE dbdata CHARACTER SET utf8 COLLATE utf8_general_ci;

#再查詢編碼
mysql&amp;gt; status;
    
...
Db     characterset:    utf8
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Step.3 若要修改已存在的 Tables&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ mysqldump -uroot -prootpw --default-character-set=latin1 --skip-set-charset dbdata &amp;gt; dbdata.sql

#將latin1 取代成 utf8
$ sed -i &#39;s/latin1/utf8/g&#39; dbdata.sql &amp;gt; dbdata_utf8.sql

#匯入MYSQL
$ mysql -uroot -prootpw --default-character-set=utf8 dbdata &amp;lt; dbdata_utf8.sql
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>Memcache-參數</title>
        <link>https://note.laurance.ml/p/memcache-%E5%8F%83%E6%95%B8/</link>
        <pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/memcache-%E5%8F%83%E6%95%B8/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/memcache-%E5%8F%83%E6%95%B8/100.png" alt="Featured image of post Memcache-參數" /&gt;&lt;pre&gt;&lt;code&gt;-d是啟動一個守護程序；

-m是分配給Memcache使用的記憶體數量，單位是MB；

-u是執行Memcache的使用者；

-l是監聽的伺服器IP地址，可以有多個地址；

-p是設定Memcache監聽的埠，，最好是1024以上的埠；

-c是最大執行的併發連線數，預設是1024；

-P是設定儲存Memcache的pid檔案。
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>Memcache-安裝-CentOS7</title>
        <link>https://note.laurance.ml/p/memcache-%E5%AE%89%E8%A3%9D-centos7/</link>
        <pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/memcache-%E5%AE%89%E8%A3%9D-centos7/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/memcache-%E5%AE%89%E8%A3%9D-centos7/100.png" alt="Featured image of post Memcache-安裝-CentOS7" /&gt;&lt;pre&gt;&lt;code&gt;依賴
yum install libevent libevent-devel
yum install perl-Test* (make test報錯)

wget http://memcached.googlecode.com/files/memcached-1.4.8.tar.gz
tar zxvf memcached-1.4.8.tar.gz
cd memcached-1.4.8
make &amp;amp;&amp;amp; make test
make install

./memcached -d -m 2048 -u nobody  -p 12000 -c 2048 -P /tmp/memcached.pid	啟動服務
pkill memcached									停止服務
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>Memcache-常用語法</title>
        <link>https://note.laurance.ml/p/memcache-%E5%B8%B8%E7%94%A8%E8%AA%9E%E6%B3%95/</link>
        <pubDate>Tue, 16 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/memcache-%E5%B8%B8%E7%94%A8%E8%AA%9E%E6%B3%95/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/memcache-%E5%B8%B8%E7%94%A8%E8%AA%9E%E6%B3%95/100.png" alt="Featured image of post Memcache-常用語法" /&gt;&lt;pre&gt;&lt;code&gt;連接memcache
telnet 127.0.0.1 12000

添加緩存
add kk 1 0 4  	        #Enter
1234  		        #Enter
STORED

修改緩存
replace kk 1 0 2        #Enter
11  		        #Enter
STORED  

設置緩存
set kk 1 0 4  	        #Enter
1234 		        #Enter
STORED

讀取
get kk
VALUE kk 1 4
1234

刪除
delete kk 	        #Enter
DELETED

清空所有缓存
flush_all  
OK

查看缓存服務器狀態
stats
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;命令格式
&lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt; &lt;!-- raw HTML omitted --&gt;\r\n
&lt;!-- raw HTML omitted --&gt;\r\n&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;參數名稱&lt;/th&gt;
&lt;th&gt;作用&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;command&lt;/td&gt;
&lt;td&gt;add， set或 replace&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;key&lt;/td&gt;
&lt;td&gt;缓存的名字&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;flag&lt;/td&gt;
&lt;td&gt;16位无符号整数，和key要存储的数据一起存储，并在程序get缓存时，返回。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;exptime&lt;/td&gt;
&lt;td&gt;过去时间，0 表示永远不过期，如果非零，表示unix时间或距此秒数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;bytes&lt;/td&gt;
&lt;td&gt;存储数据的字节数&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;\r\n&lt;/td&gt;
&lt;td&gt;換行Enter&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>Mongodb-安裝教學</title>
        <link>https://note.laurance.ml/p/mongodb-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/</link>
        <pubDate>Mon, 15 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/mongodb-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/mongodb-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/100.png" alt="Featured image of post Mongodb-安裝教學" /&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.mongodb.com/download-center#community&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;MongoDB官網下載地址&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://note.laurance.ml/p/mongodb-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/1.png&#34;
	width=&#34;1058&#34;
	height=&#34;331&#34;
	srcset=&#34;https://note.laurance.ml/p/mongodb-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/1_hu383407a6f0b18c0736595579a8618037_116725_480x0_resize_box_3.png 480w, https://note.laurance.ml/p/mongodb-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/1_hu383407a6f0b18c0736595579a8618037_116725_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;319&#34;
		data-flex-basis=&#34;767px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://note.laurance.ml/p/mongodb-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/2.png&#34;
	width=&#34;1049&#34;
	height=&#34;309&#34;
	srcset=&#34;https://note.laurance.ml/p/mongodb-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/2_hu5cefca8362278e340378772afe0f9913_245137_480x0_resize_box_3.png 480w, https://note.laurance.ml/p/mongodb-%E5%AE%89%E8%A3%9D%E6%95%99%E5%AD%B8/2_hu5cefca8362278e340378772afe0f9913_245137_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;339&#34;
		data-flex-basis=&#34;814px&#34;
	
&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;yum install libcurl openssl
wget https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-4.0.28.tgz
mkdir /usr/local/mongodb
tar zxvf mongodb-linux-x86_64-4.0.28.tgz  -C /usr/local/
mv /usr/local/mongodb-linux-x86_64-4.0.28/ mongodb/
cd /usr/local/mongodb/
mkdir data log conf
cd data/ &amp;amp;&amp;amp; mkdir db/
cd /usr/local/mongodb/conf &amp;amp;&amp;amp; touch mongodb.conf

vim mongodb.conf
dbpath = /usr/local/mongodb/data/db                     #資料檔案存放目錄  
logpath = /usr/local/mongodb/log/mongodb.log            #日誌檔案存放目錄      
port = 27017                                            #埠      
fork = true                                             #以守護程式的方式啟用，即在後臺執行

./bin/mongod --config ./conf/mongodb.conf               //啟動服務
./bin/mongod --config ./conf/mongodb.conf --shutdown    //關閉服務
./mongo		                                        //連線mongodb
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>Mongodb-語法</title>
        <link>https://note.laurance.ml/p/mongodb-%E8%AA%9E%E6%B3%95/</link>
        <pubDate>Mon, 15 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/mongodb-%E8%AA%9E%E6%B3%95/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/mongodb-%E8%AA%9E%E6%B3%95/100.png" alt="Featured image of post Mongodb-語法" /&gt;&lt;p&gt;創建資料庫  (如果資料庫不存在，則創建並切換過去)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;use DATABASE_NAME
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;創建集合&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;db.createCollection(&amp;quot;runoob&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查看集合&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;show collections &amp;amp;&amp;amp; show tables
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查看資料庫&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;db.col.find()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;顯示目前數據庫&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;db
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查看所有數據庫&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;show dbs
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;插入資料到數據庫&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;db.test222.insert({&amp;quot;name&amp;quot;:&amp;quot;菜鳥&amp;quot;})
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;刪除數據庫&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;db.dropDatabase()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;删除集合&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;db.collection.drop()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;創建固定集合mycol，集合空間大小6142800B，文檔最大個數10000個&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;db.createCollection(&amp;quot;mycol&amp;quot;, { capped : true, autoIndexId : true, size : 6142800, max : 10000 } )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;集合插入多個文檔&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;db.col.insert({title: &#39;MongoDB教程&#39;, 
    description: &#39;MongoDB 是一個Nosql數據庫&#39;,
    by: &#39;菜鳥&#39;,
    url: &#39;https://note.laurance.ml&#39;,
    tags: [&#39;mongodb&#39;, &#39;database&#39;, &#39;NoSQL&#39;],
    likes: 100
    })
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;或是可以設成變量&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;document=({title: &#39;MongoDB教程&#39;, 
    description: &#39;MongoDB 是一個Nosql數據庫&#39;,
    by: &#39;菜鳥&#39;,
    url: &#39;https://note.laurance.ml&#39;,
    tags: [&#39;mongodb&#39;, &#39;database&#39;, &#39;NoSQL&#39;],
    likes: 100
    });
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在執行插入動作&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;db.col.insert(document)
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>MySQL-將庫及表轉成SQL檔</title>
        <link>https://note.laurance.ml/p/mysql-%E5%B0%87%E5%BA%AB%E5%8F%8A%E8%A1%A8%E8%BD%89%E6%88%90sql%E6%AA%94/</link>
        <pubDate>Tue, 09 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/mysql-%E5%B0%87%E5%BA%AB%E5%8F%8A%E8%A1%A8%E8%BD%89%E6%88%90sql%E6%AA%94/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/mysql-%E5%B0%87%E5%BA%AB%E5%8F%8A%E8%A1%A8%E8%BD%89%E6%88%90sql%E6%AA%94/100.png" alt="Featured image of post MySQL-將庫及表轉成SQL檔" /&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;將某庫某表轉成SQL檔
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqldump -uroot -p UserAccount UserGame &amp;gt;/root/UserGame.sql&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>InfluxDB 常用語法</title>
        <link>https://note.laurance.ml/p/influxdb-%E5%B8%B8%E7%94%A8%E8%AA%9E%E6%B3%95/</link>
        <pubDate>Wed, 03 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/influxdb-%E5%B8%B8%E7%94%A8%E8%AA%9E%E6%B3%95/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/influxdb-%E5%B8%B8%E7%94%A8%E8%AA%9E%E6%B3%95/100.jpg" alt="Featured image of post InfluxDB 常用語法" /&gt;&lt;pre&gt;&lt;code&gt;返回具有最新时间戳的点
ORDER BY time DESC

時間格式
--precision rfc3339

在查詢語句的最後加上tz(&#39;Asia/Shanghai&#39;)，這樣查詢的時間纔是糾正爲中國時區顯示 tz(&#39;Asia/Taipei&#39;)
tz(&#39;Asia/Shanghai&#39;)

查詢某個時間返回的數據，設置時區爲上海時區
select * from CPU_ALL where time &amp;gt;= &#39;2018-11-23 14:30:39&#39; and time &amp;lt;= &#39;2019-11-23 14:32:32&#39; tz(&#39;Asia/Shanghai&#39;)

查詢特定字段數據
SELECT * FROM &amp;quot;cpu&amp;quot; WHERE time &amp;lt; now() - 5m and &amp;quot;cpu&amp;quot; =~ /cpu0/

创建measurement
insert myapp,host=127.0.0.1,service=app.service.index qps=1340,rt=1313,cpu=45.23,mem=&amp;quot;4145m&amp;quot;,load=1.21 

查看使用者
SHOW USERS

刪除使用者
DROP USER &amp;quot;admin-mysql&amp;quot;	

新增使用者
CREATE USER jdoe WITH PASSWORD &#39;1337password&#39;

新增使用者並給予最高權限
CREATE USER jdoe WITH PASSWORD &#39;1337password&#39; WITH ALL PRIVILEGES

取消使用者最高權限
REVOKE ALL PRIVILEGES FROM &amp;quot;mysql-server&amp;quot;

給予使用者讀mydb的權限
GRANT READ ON mydb TO &amp;quot;mysql-server&amp;quot;

查詢當前資料庫中含有的表
SHOW MEASUREMENTS

查看key數據
SHOW series from pay

刪除key
DROP SERIES FROM  WHERE =&#39;&#39;

查看表中的TAG
SHOW TAG KEYS FROM &amp;quot;system&amp;quot;

查看表中的TAG-host
SHOW TAG VALUES FROM &amp;quot;system&amp;quot; WITH KEY = &amp;quot;host&amp;quot; 

查詢所有監控項目
show field keys

查詢當前資料庫下所有表的第一行記錄
SELECT * FROM /.*/ LIMIT 1
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>Linux-REDIS-編譯安裝</title>
        <link>https://note.laurance.ml/p/linux-redis-%E7%B7%A8%E8%AD%AF%E5%AE%89%E8%A3%9D/</link>
        <pubDate>Wed, 03 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/linux-redis-%E7%B7%A8%E8%AD%AF%E5%AE%89%E8%A3%9D/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/linux-redis-%E7%B7%A8%E8%AD%AF%E5%AE%89%E8%A3%9D/100.png" alt="Featured image of post Linux-REDIS-編譯安裝" /&gt;&lt;pre&gt;&lt;code&gt;###################################

http://download.redis.io/releases/

###################################

wget - tar-zxvf - cd - 

###################################

make MALLOC=libc

make PREFIX=/usr/local/redis install

###################################

Redis配置

###################################

mkdir /usr/local/redis/etc/

cp redis.conf /usr/local/redis/etc/

cd /usr/local/redis/bin/

cp redis-benchmark redis-cli redis-server /usr/bin/

###################################

修改redis配置

###################################

vim /usr/local/redis/etc/redis.conf

bind 0.0.0.0

daemonize yes

###################################

vim redis ( 腳本 )

###################################

#!/bin/bash
#chkconfig: 2345 80 90
# Simple Redis init.d script conceived to work on Linux systems
# as it does use of the /proc filesystem.

PATH=/usr/local/bin:/sbin:/usr/bin:/bin
REDISPORT=6379
EXEC=/usr/local/redis/bin/redis-server
REDIS_CLI=/usr/local/redis/bin/redis-cli

PIDFILE=/var/run/redis_6379.pid
CONF=&amp;quot;/usr/local/redis/etc/redis.conf&amp;quot;

case &amp;quot;$1&amp;quot; in
start)
if [ -f $PIDFILE ]
then
echo &amp;quot;$PIDFILE exists, process is already running or crashed&amp;quot;
else
echo &amp;quot;Starting Redis server...&amp;quot;
$EXEC $CONF
fi
if [ &amp;quot;$?&amp;quot;=&amp;quot;0&amp;quot; ]
then
echo &amp;quot;Redis is running...&amp;quot;
fi
;;
stop)
if [ ! -f $PIDFILE ]
then
echo &amp;quot;$PIDFILE does not exist, process is not running&amp;quot;
else
PID=$(cat $PIDFILE)
echo &amp;quot;Stopping ...&amp;quot;
$REDIS_CLI -p $REDISPORT SHUTDOWN
while [ -x ${PIDFILE} ]
do
echo &amp;quot;Waiting for Redis to shutdown ...&amp;quot;
sleep 1
done
echo &amp;quot;Redis stopped&amp;quot;
fi
;;
restart|force-reload)
${0} stop
${0} start
;;
*)
echo &amp;quot;Usage: /etc/init.d/redis {start|stop|restart|force-reload}&amp;quot; &amp;gt;&amp;amp;2
exit 1
esac

###################################

cp redis /etc/init.d/

chmod 755 /etc/init.d/redis

###################################

chkconfig --list	                # 查看服務列表

chkconfig --add redis		        # 添加服務

chkconfig --level 2345 redis on		# 配制啟動級別

###################################

systemctl start redis

###################################
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>MariaDB-yum安裝</title>
        <link>https://note.laurance.ml/p/mariadb-yum%E5%AE%89%E8%A3%9D/</link>
        <pubDate>Wed, 03 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/mariadb-yum%E5%AE%89%E8%A3%9D/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/mariadb-yum%E5%AE%89%E8%A3%9D/100.png" alt="Featured image of post MariaDB-yum安裝" /&gt;&lt;pre&gt;&lt;code&gt;vim /etc/yum.repos.d/MariaDB.repo

# MariaDB 10.1 CentOS repository list - created 2017-01-27 16:31 UTC
# http://downloads.mariadb.org/mariadb/repositories/
[mariadb]
name = MariaDB
baseurl = http://yum.mariadb.org/10.1/centos7-amd64
gpgkey=https://yum.mariadb.org/RPM-GPG-KEY-MariaDB
gpgcheck=1

##########################################

yum install MariaDB-server MariaDB-client

mysql_secure_installation	#初始化
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>MariaDB-主從跟隨</title>
        <link>https://note.laurance.ml/p/mariadb-%E4%B8%BB%E5%BE%9E%E8%B7%9F%E9%9A%A8/</link>
        <pubDate>Wed, 03 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/mariadb-%E4%B8%BB%E5%BE%9E%E8%B7%9F%E9%9A%A8/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/mariadb-%E4%B8%BB%E5%BE%9E%E8%B7%9F%E9%9A%A8/100.png" alt="Featured image of post MariaDB-主從跟隨" /&gt;&lt;pre&gt;&lt;code&gt;Master:

mysql -u root -p

MariaDB [(none)]&amp;gt; STOP SLAVE;

MariaDB [(none)]&amp;gt; GRANT REPLICATION SLAVE ON *.* TO &#39;輸入使用者名稱&#39;@&#39;輸入來源 + %&#39; IDENTIFIED BY &#39;輸入密碼&#39;;

FLUSH PRIVILEGES;

FLUSH TABLES WITH READ LOCK;

SHOW MASTER STATUS;

exit;

############################################

mysqldump --all-databases --user=root --password --master-data &amp;gt; masterdatabase.sql

############################################

mysql -u root -p

MariaDB [(none)]&amp;gt; UNLOCK TABLES;

MariaDB [(none)]&amp;gt; exit

############################################

scp masterdatabase.sql root@輸入slave主機來源:/home

############################################

Slave:

將master的SQL檔匯入slave
mysql -u root -p &amp;lt; /home/masterdatabase.sql

systemctl restart mariadb

############################################

mysql -u root -p

MariaDB [(none)]&amp;gt; STOP SLAVE;

MariaDB [(none)]&amp;gt; CHANGE MASTER TO MASTER_HOST=&#39;輸入Master主機ip&#39;, MASTER_USER=&#39;輸入使用者名稱&#39;, MASTER_PASSWORD=&#39;輸入密碼&#39;, MASTER_LOG_FILE=&#39;mariadb-bin.000001&#39;, MASTER_LOG_POS=479;

start slave;

reset slave;

SHOW SLAVE STATUS\G;

############################################
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>MySQL-常用語法</title>
        <link>https://note.laurance.ml/p/mysql-%E5%B8%B8%E7%94%A8%E8%AA%9E%E6%B3%95/</link>
        <pubDate>Wed, 03 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/mysql-%E5%B8%B8%E7%94%A8%E8%AA%9E%E6%B3%95/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/mysql-%E5%B8%B8%E7%94%A8%E8%AA%9E%E6%B3%95/100.png" alt="Featured image of post MySQL-常用語法" /&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;  1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;  9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 48
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 49
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 50
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 51
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 52
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 53
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 54
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 55
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 56
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 57
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 58
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 59
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 60
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 61
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 62
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 63
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 64
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 65
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 66
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 67
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 68
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 69
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 70
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 71
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 72
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 73
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 74
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 75
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 76
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 77
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 78
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 79
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 80
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 81
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 82
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 83
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 84
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 85
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 86
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 87
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 88
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 89
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 90
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 91
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 92
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 93
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 94
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 95
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 96
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 97
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 98
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 99
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;100
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;101
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;102
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;103
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;104
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;105
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;106
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;107
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;108
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;109
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;110
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;111
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;112
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;113
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;114
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;背景啟動
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqld_safe &lt;span class=&#34;err&#34;&gt;&amp;amp;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;停掉服務
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqladmin -u root -p shutdown 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;創建密碼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqladmin -u root password &amp;#39;密碼&amp;#39; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;列出該 database_name 所有資料表
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqlshow -u user_name -p db_name
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;檢視伺服器埠
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show global variables like &amp;#39;port&amp;#39;; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;查詢ID
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SHOW VARIABLES LIKE &amp;#39;%server_%&amp;#39;; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;忘記密碼時在my.cnf增加參數
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[mysqld]  skip-grant-tables 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;在mysql介面執行更改密碼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;use mysql;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;UPDATE user SET Password = password(&amp;#39;123456&amp;#39;) WHERE User = &amp;#39;root&amp;#39;; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;檢查是否有支援 Partition
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SHOW PLUGINS;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SELECT PLUGIN_NAME as Name, PLUGIN_VERSION as Version, PLUGIN_STATUS as Status FROM INFORMATION_SCHEMA.PLUGINS WHERE PLUGIN_TYPE=&amp;#39;STORAGE ENGINE&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;若要關閉 partition 支援，可在 my.cnf 加上 skip-partition，再重新啟動
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;查看型號
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql&amp;gt; select version(); 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;或是在Linux介面執行
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql -V
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;查看表的存储引擎
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show create table proc \G
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;直接更改存储引擎
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;alter table UserConf engine=MyISAM;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;顯示數據表結構： 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;describe 表名;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;查看MySQL的時間
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;select now();
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;查看MySQL時區
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show variables like &amp;#34;%time_zone%&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;顯示哪個執行緒正在運行
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SHOW PROCESSLIST;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;顯示資料表的欄位 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show columns from 資料表名稱;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;顯示user裡的資料
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SELECT * FROM user \G
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;新增帳號
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CREATE USER &amp;#39;laurance&amp;#39;@&amp;#39;10.10.%.%&amp;#39; IDENTIFIED BY &amp;#39;123456&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;給予全部權限
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grant all on *.* to &amp;#39;laurance&amp;#39;@&amp;#39;10.10.%.%&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;修改使用者
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;update user set User=&amp;#39;laurance&amp;#39; where User=&amp;#39;root&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;刪除使用者
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;drop user &amp;#39;laurance&amp;#39;@&amp;#39;localhost&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;查看使用者權限
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show grants for &amp;#39;laurance&amp;#39;@&amp;#39;localhost&amp;#39;; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;安裝MySQL密碼強度插件
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;INSTALL PLUGIN validate_password SONAME &amp;#39;validate_password.so&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;臨時改密碼強度規則
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET GLOBAL validate_password_policy=LOW;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;查看密碼強度規則
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show variables like &amp;#39;validate_pass%&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;查看密碼長度規則
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;select @@validate_password_length;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;更換主從語法
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;change master to MASTER_HOST=&amp;#39;10.10.10.10&amp;#39;, MASTER_USER=&amp;#39;laurance&amp;#39;, MASTER_PASSWORD=&amp;#39;123456&amp;#39;, MASTER_LOG_FILE=&amp;#39;log-bin.000018&amp;#39;, MASTER_LOG_POS=815722;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;查詢MySQL密碼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;select * from mysql.user \G
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;將*開頭的亂碼貼到MD5解
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://www.cmd5.com/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;重新設為預設資料庫
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql_install_db --datadir=/var/lib/mysql/master01/ --user=mysql &lt;span class=&#34;err&#34;&gt;&amp;amp;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    新增 TABLE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    CREATE TABLE ithelp1007a(
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    class CHAR(1) NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    name CHAR(20) NOT NULL,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    score TINYINT UNSIGNED NOT NULL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    );
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    插入 TABLE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    INSERT INTO ithelp1007a(class, name, score) VALUES
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    (&amp;#39;A&amp;#39;, &amp;#39;Tom&amp;#39;, 78),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    (&amp;#39;A&amp;#39;, &amp;#39;Mary&amp;#39;, 25),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    (&amp;#39;A&amp;#39;, &amp;#39;John&amp;#39;, 65),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    (&amp;#39;B&amp;#39;, &amp;#39;Hitomi&amp;#39;, 95),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    (&amp;#39;B&amp;#39;, &amp;#39;Asami&amp;#39;, 84),
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    (&amp;#39;B&amp;#39;, &amp;#39;Keiko&amp;#39;, 73);&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;hr&gt;

</description>
        </item>
        <item>
        <title>Mysqldump-備份&amp;還原資料庫</title>
        <link>https://note.laurance.ml/p/mysqldump-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%B3%87%E6%96%99%E5%BA%AB/</link>
        <pubDate>Wed, 03 Aug 2022 00:00:00 +0000</pubDate>
        
        <guid>https://note.laurance.ml/p/mysqldump-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%B3%87%E6%96%99%E5%BA%AB/</guid>
        <description>&lt;img src="https://note.laurance.ml/p/mysqldump-%E5%82%99%E4%BB%BD%E9%82%84%E5%8E%9F%E8%B3%87%E6%96%99%E5%BA%AB/100.png" alt="Featured image of post Mysqldump-備份&amp;還原資料庫" /&gt;&lt;pre&gt;&lt;code&gt;備份單一資料庫
mysqldump -h hostname -u root -p database_name &amp;gt; backup.sql;

備份資料庫中單一資料表
mysqldump -u root -p database_name table_name &amp;gt; backup.sql;

匯出資料庫中的某張資料表的表結構（不含資料）
mysqldump -u username -p -d dbname tablename &amp;gt; tablename.sql   

備份資料庫中多張資料表
mysqldump -u root -p database_name table1 table2 &amp;gt; backup.sql;

備份多個資料庫
mysqldump -u root -p --databases db1 db2 &amp;gt; backup.sql;

備份所有資料庫
mysqldump -u root -p --all-databases &amp;gt; backup.sql;

匯出資料庫結構（不含資料）
mysqldump -u username -p -d dbname &amp;gt; dbname.sql    


----------------------------

復原單一資料庫
mysql -u root -p database_name &amp;lt; backup.sql

復原多個資料庫
mysql -u root -p &amp;lt; backup.sql

----------------------------
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;

</description>
        </item>
        
    </channel>
</rss>
